pid_analyzer_v2/
â”‚
â”œâ”€â”€ ğŸ“‹ ENTRY POINTS (Haupteinstiegspunkte)
â”‚   â”œâ”€â”€ run_gui.py                    # GUI-Modus (Tkinter)
â”‚   â””â”€â”€ run_cli.py                    # CLI-Modus (Kommandozeile)
â”‚
â”œâ”€â”€ âš™ï¸ CONFIGURATION
â”‚   â”œâ”€â”€ config.yaml                   # Haupt-Konfiguration (Model-Strategien, Prompts, Logic Parameters)
â”‚   â”œâ”€â”€ element_type_list.json        # Element-Typ-Schema (Komponenten, Ports, Vererbung)
â”‚   â””â”€â”€ learning_db.json              # Lern-Datenbank (Korrekturen, Aliase)
â”‚
â”œâ”€â”€ ğŸ”§ CORE PIPELINE (Kern-Pipeline)
â”‚   â””â”€â”€ src/analyzer/core/
â”‚       â”œâ”€â”€ pipeline_coordinator.py   # â­ HAUPT-ORCHESTRATOR
â”‚       â”‚                             #   - Orchestriert alle Phasen (0-4)
â”‚       â”‚                             #   - process(): Haupt-Methode
â”‚       â”‚                             #   - Phase 0: KomplexitÃ¤ts-Analyse
â”‚       â”‚                             #   - Phase 1: Pre-Analysis (Legend + Metadata)
â”‚       â”‚                             #   - Phase 2: Sequential (Swarm â†’ GR â†’ Monolith)
â”‚       â”‚                             #   - Phase 2c: Fusion (Confidence-based)
â”‚       â”‚                             #   - Phase 3: Self-Correction Loop
â”‚       â”‚                             #   - Phase 4: Post-Processing
â”‚       â”‚
â”‚       â””â”€â”€ pretraining_orchestrator.py  # Pre-Training Orchestrator
â”‚
â”œâ”€â”€ ğŸ” ANALYSIS MODULES (Analyse-Module)
â”‚   â””â”€â”€ src/analyzer/analysis/
â”‚       â”œâ”€â”€ swarm_analyzer.py         # â­ ELEMENT-SPEZIALIST
â”‚       â”‚                             #   - Findet alle Elemente (Symbols, Labels)
â”‚       â”‚                             #   - Gibt leere connections: [] zurÃ¼ck
â”‚       â”‚                             #   - Wird in Phase 2a verwendet
â”‚       â”‚
â”‚       â”œâ”€â”€ monolith_analyzer.py       # â­ VERBINDUNGS-SPEZIALIST
â”‚       â”‚                             #   - Findet alle Verbindungen
â”‚       â”‚                             #   - Nutzt Element-Liste als Input
â”‚       â”‚                             #   - Gibt leere elements: [] zurÃ¼ck
â”‚       â”‚                             #   - Adaptive Quadranten-Strategie
â”‚       â”‚                             #   - Wird in Phase 2c verwendet
â”‚       â”‚
â”‚       â”œâ”€â”€ fusion_engine.py           # â­ FUSION ENGINE
â”‚       â”‚                             #   - Confidence-basierte Fusion
â”‚       â”‚                             #   - Legend Authority (Case 1)
â”‚       â”‚                             #   - Dual Detection (Case 2)
â”‚       â”‚                             #   - Potential Hallucination (Case 3)
â”‚       â”‚
â”‚       â”œâ”€â”€ line_extractor.py          # CV-basierte Linien-Extraktion
â”‚       â”‚                             #   - Text-Removal (OCR + CV)
â”‚       â”‚                             #   - Adaptive Thresholds
â”‚       â”‚                             #   - Gap-Bridging
â”‚       â”‚                             #   - Skeletonization
â”‚       â”‚
â”‚       â”œâ”€â”€ metacritic.py              # Meta-Critic (Multi-Model Validation)
â”‚       â”œâ”€â”€ multi_model_critic.py      # Multi-Model Critic
â”‚       â”œâ”€â”€ topology_critic.py         # Topology Critic
â”‚       â””â”€â”€ legend_consistency_critic.py  # Legend Consistency Critic
â”‚
â”œâ”€â”€ ğŸ¤– AI/LLM INTEGRATION
â”‚   â””â”€â”€ src/analyzer/ai/
â”‚       â”œâ”€â”€ llm_client.py              # â­ LLM CLIENT
â”‚       â”‚                             #   - Verwaltet alle LLM-API-Calls
â”‚       â”‚                             #   - Caching
â”‚       â”‚                             #   - Circuit Breaker
â”‚       â”‚                             #   - Retry-Logik
â”‚       â”‚                             #   - Error Handling
â”‚       â”‚
â”‚       â”œâ”€â”€ prompt_manager.py          # Prompt-Management
â”‚       â”œâ”€â”€ embedding_service.py      # Embedding-Service
â”‚       â””â”€â”€ error_handler.py          # Error-Handler
â”‚
â”œâ”€â”€ ğŸ§  LEARNING MODULES (Lern-Module)
â”‚   â””â”€â”€ src/analyzer/learning/
â”‚       â”œâ”€â”€ knowledge_manager.py       # â­ KNOWLEDGE MANAGER
â”‚       â”‚                             #   - Element-Typ-Validierung
â”‚       â”‚                             #   - Synonym-AuflÃ¶sung
â”‚       â”‚                             #   - Lern-Datenbank-Verwaltung
â”‚       â”‚
â”‚       â”œâ”€â”€ active_learner.py          # Active Learning Loop
â”‚       â”œâ”€â”€ symbol_library.py          # Symbol Library
â”‚       â”œâ”€â”€ pattern_matcher.py         # Pattern Matcher
â”‚       â””â”€â”€ correction_learner.py     # Correction Learner
â”‚
â”œâ”€â”€ ğŸ› ï¸ UTILITIES (Hilfsfunktionen)
â”‚   â””â”€â”€ src/utils/
â”‚       â”œâ”€â”€ complexity_analyzer.py    # â­ PHASE 0: KomplexitÃ¤ts-Analyse
â”‚       â”‚                             #   - CV-basierte Multi-Metrik-Analyse
â”‚       â”‚                             #   - Edge Density, Object Density, Junctions
â”‚       â”‚                             #   - Strategie-Auswahl (simple vs complex)
â”‚       â”‚
â”‚       â”œâ”€â”€ connection_reasoning.py    # â­ CHAIN-OF-THOUGHT REASONING
â”‚       â”‚                             #   - Validiert Verbindungen
â”‚       â”‚                             #   - Findet Splits/Merges
â”‚       â”‚                             #   - Markiert fehlende Elemente
â”‚       â”‚                             #   - Dangling Connections
â”‚       â”‚
â”‚       â”œâ”€â”€ graph_utils.py             # â­ GRAPH UTILS
â”‚       â”‚                             #   - IoU-Berechnung
â”‚       â”‚                             #   - Duplikat-Fusion (Levenshtein)
â”‚       â”‚                             #   - Polyline-Matching
â”‚       â”‚                             #   - Graph-Manipulation
â”‚       â”‚
â”‚       â”œâ”€â”€ legend_extractor.py        # Legend Extraction (CV + LLM)
â”‚       â”œâ”€â”€ legend_matching.py         # Legend Matching
â”‚       â”œâ”€â”€ image_utils.py             # Image Utilities
â”‚       â”œâ”€â”€ coordinate_validator.py    # Coordinate Validator
â”‚       â”œâ”€â”€ type_utils.py              # Type Utilities (BBox Validation)
â”‚       â”œâ”€â”€ json_encoder.py            # JSON Encoder (Safe)
â”‚       â”œâ”€â”€ graph_theory.py             # Graph Theory Utilities
â”‚       â”œâ”€â”€ context_aware_type_inference.py  # Context-Aware Type Inference
â”‚       â”œâ”€â”€ symbol_extraction.py       # Symbol Extraction
â”‚       â”œâ”€â”€ schemas.py                 # Schemas
â”‚       â”œâ”€â”€ debug_capture.py           # Debug Capture
â”‚       â””â”€â”€ test_harness.py            # Test Harness Utilities
â”‚
â”œâ”€â”€ âš™ï¸ SERVICES (Services)
â”‚   â””â”€â”€ src/services/
â”‚       â”œâ”€â”€ config_service.py          # â­ CONFIG SERVICE
â”‚       â”‚                             #   - LÃ¤dt config.yaml
â”‚       â”‚                             #   - Model-Strategien
â”‚       â”‚                             #   - Prompts
â”‚       â”‚                             #   - Logic Parameters
â”‚       â”‚
â”‚       â”œâ”€â”€ cache_service.py           # Cache Service
â”‚       â””â”€â”€ logging_service.py        # Logging Service
â”‚
â”œâ”€â”€ ğŸ“Š EVALUATION & OUTPUT
â”‚   â””â”€â”€ src/analyzer/
â”‚       â”œâ”€â”€ evaluation/
â”‚       â”‚   â””â”€â”€ kpi_calculator.py      # â­ KPI CALCULATOR
â”‚       â”‚                             #   - F1-Score, Precision, Recall
â”‚       â”‚                             #   - Element-KPIs
â”‚       â”‚                             #   - Connection-KPIs
â”‚       â”‚                             #   - Quality Score
â”‚       â”‚
â”‚       â”œâ”€â”€ visualization/
â”‚       â”‚   â””â”€â”€ visualizer.py         # Visualizer (Debug Maps, Confidence Maps)
â”‚       â”‚
â”‚       â””â”€â”€ output/
â”‚           â””â”€â”€ cgm_generator.py      # CGM Generator
â”‚
â”œâ”€â”€ ğŸ¨ GUI
â”‚   â””â”€â”€ src/gui/
â”‚       â””â”€â”€ optimized_gui.py          # â­ GUI (Tkinter)
â”‚                                     #   - Threading fÃ¼r non-blocking UI
â”‚                                     #   - Queue-basierte Updates
â”‚                                     #   - Logging-Integration
â”‚
â”œâ”€â”€ ğŸ“¦ MODELS (Datenmodelle)
â”‚   â””â”€â”€ src/analyzer/models/
â”‚       â”œâ”€â”€ elements.py                # Element & Connection Models (Pydantic)
â”‚       â””â”€â”€ pipeline.py                # Pipeline Models
â”‚
â”œâ”€â”€ ğŸ”Œ INTERFACES (Schnittstellen)
â”‚   â””â”€â”€ src/interfaces/
â”‚       â”œâ”€â”€ processor.py               # IProcessor Interface
â”‚       â”œâ”€â”€ analyzer.py                # IAnalyzer Interface
â”‚       â””â”€â”€ exporter.py                # IExporter Interface
â”‚
â””â”€â”€ ğŸ§ª TEST SCRIPTS (Test-Skripte)
    â””â”€â”€ scripts/
        â”‚
        â”œâ”€â”€ ğŸ¯ MAIN TESTS (Haupt-Tests)
        â”‚   â”œâ”€â”€ smoke_test_gui.py              # Smoke Test (GUI + Pipeline)
        â”‚   â”œâ”€â”€ test_system_ready.py           # System Ready Test
        â”‚   â”œâ”€â”€ test_imports.py                # Import Test
        â”‚   â”œâ”€â”€ test_simple_pid_no_truth.py    # Simple PID Test (ohne Truth)
        â”‚   â”œâ”€â”€ test_uni_images.py             # Uni Images Test (mit Truth)
        â”‚   â”œâ”€â”€ test_full_pipeline_features.py # Full Pipeline Test
        â”‚   â””â”€â”€ test_core_phases_uni_page1.py  # Core Phases Test (Phase 0-2c)
        â”‚
        â”œâ”€â”€ ğŸ”¬ PHASE-SPECIFIC TESTS (Phasen-spezifische Tests)
        â”‚   â”œâ”€â”€ test_phase0_complexity.py      # Phase 0 Test (KomplexitÃ¤t)
        â”‚   â”œâ”€â”€ test_phase0_llm_first.py       # Phase 0 LLM Test
        â”‚   â”œâ”€â”€ test_phase1_only.py            # Phase 1 Test (Legend + Metadata)
        â”‚   â””â”€â”€ phase1_stability_tests.py      # Phase 1 StabilitÃ¤tstests
        â”‚
        â”œâ”€â”€ ğŸ›ï¸ STRATEGY & PARAMETER TESTS (Strategie & Parameter Tests)
        â”‚   â”œâ”€â”€ test_strategy_comparison.py    # Strategie-Vergleich
        â”‚   â”œâ”€â”€ strategy_calibration_test.py   # Strategie-Kalibrierung
        â”‚   â”œâ”€â”€ parameter_test_simple_pid.py   # Parameter-Test
        â”‚   â””â”€â”€ run_parameter_tuning.py        # â­ Parameter-Tuning (Optuna)
        â”‚
        â”œâ”€â”€ ğŸ”„ ITERATIVE TESTS (Iterative Tests)
        â”‚   â”œâ”€â”€ iterative_testing_loop.py      # Iterative Testing Loop
        â”‚   â”œâ”€â”€ run_automated_test.py           # Automatisierter Test
        â”‚   â”œâ”€â”€ run_automated_testcamp.py       # Automatisierter Test-Camp
        â”‚   â””â”€â”€ focused_amplification_test.py   # Focused Amplification Test
        â”‚
        â”œâ”€â”€ ğŸ“Š ANALYSIS & VALIDATION (Analyse & Validierung)
        â”‚   â”œâ”€â”€ test_final_validation.py       # Finale Validierung
        â”‚   â”œâ”€â”€ test_ground_truth_loading.py   # Ground Truth Loading
        â”‚   â”œâ”€â”€ test_model_comparison.py        # Model-Vergleich
        â”‚   â”œâ”€â”€ analyze_all_test_results.py     # Analyse aller Test-Ergebnisse
        â”‚   â””â”€â”€ run_test_with_validation.py     # Test mit Validierung
        â”‚
        â”œâ”€â”€ ğŸ§¹ CLEANUP SCRIPTS (AufrÃ¤um-Skripte)
        â”‚   â”œâ”€â”€ cleanup_outputs.py              # Outputs aufrÃ¤umen
        â”‚   â”œâ”€â”€ cleanup_old_files.py            # Alte Dateien aufrÃ¤umen
        â”‚   â”œâ”€â”€ cleanup_repo.py                 # Repo aufrÃ¤umen
        â”‚   â””â”€â”€ backup_learning_db.py           # Learning DB Backup
        â”‚
        â”œâ”€â”€ ğŸ”§ UTILITY SCRIPTS (Utility-Skripte)
        â”‚   â”œâ”€â”€ reset_learning_db.py            # Learning DB zurÃ¼cksetzen
        â”‚   â”œâ”€â”€ restore_learning_db.py         # Learning DB wiederherstellen
        â”‚   â”œâ”€â”€ extract_viewshots_from_uni_bilder.py  # Viewshots extrahieren
        â”‚   â”œâ”€â”€ run_pretraining.py              # Pre-Training
        â”‚   â”œâ”€â”€ run_test_harness.py             # Test Harness
        â”‚   â”œâ”€â”€ quick_test.py                   # Quick Test
        â”‚   â”œâ”€â”€ visual_trace_debug.py           # Visual Trace Debug
        â”‚   â””â”€â”€ test_vertex_api.py              # Vertex API Test
        â”‚
        â””â”€â”€ ğŸ“ SPECIFIC IMAGE TESTS (Spezifische Bild-Tests)
            â”œâ”€â”€ test_simple_and_uni1.py         # Simple + Uni 1
            â”œâ”€â”€ test_simple_uni3.py             # Simple + Uni 3
            â”œâ”€â”€ test_uni_images_2_4.py          # Uni Images 2 & 4
            â”œâ”€â”€ run_uni_bild_4.py               # Uni Bild 4
            â””â”€â”€ run_uni_images_1_3.py           # Uni Images 1 & 3


ğŸ“‘ KRITISCHE TEST-DATEIEN (Nach PrioritÃ¤t)
â””â”€â”€ ğŸ¯ CORE PIPELINE (PrioritÃ¤t 1)
    â”œâ”€â”€ src/analyzer/core/pipeline_coordinator.py     # â­ Haupt-Orchestrator
    â”œâ”€â”€ src/analyzer/analysis/swarm_analyzer.py       # Element-Erkennung
    â”œâ”€â”€ src/analyzer/analysis/monolith_analyzer.py    # Verbindungs-Erkennung
    â””â”€â”€ src/analyzer/analysis/fusion_engine.py        # Fusion-Logik

â””â”€â”€ ğŸ¤– AI & LEARNING (PrioritÃ¤t 2)
    â”œâ”€â”€ src/analyzer/ai/llm_client.py                 # LLM-Integration
    â”œâ”€â”€ src/analyzer/learning/knowledge_manager.py    # Knowledge Manager
    â””â”€â”€ src/utils/complexity_analyzer.py              # Phase 0 KomplexitÃ¤t

â””â”€â”€ ğŸ› ï¸ UTILITIES (PrioritÃ¤t 3)
    â”œâ”€â”€ src/utils/connection_reasoning.py             # Chain-of-Thought
    â”œâ”€â”€ src/utils/graph_utils.py                      # Graph-Manipulation
    â””â”€â”€ src/utils/type_utils.py                       # BBox-Validierung

â””â”€â”€ âš™ï¸ SERVICES & CONFIG (PrioritÃ¤t 4)
    â”œâ”€â”€ src/services/config_service.py                # Config Service
    â””â”€â”€ config.yaml                                   # Konfiguration

â””â”€â”€ ğŸ§ª TEST EXECUTION (PrioritÃ¤t 5)
    â”œâ”€â”€ Core Tests
    â”‚   â”œâ”€â”€ scripts/test_core_phases_uni_page1.py    # Core Phases Test
    â”‚   â”œâ”€â”€ scripts/test_simple_pid_no_truth.py      # Simple PID Test
    â”‚   â””â”€â”€ scripts/run_parameter_tuning.py          # Parameter-Tuning
    â”‚
    â””â”€â”€ Test-Reihenfolge
        â”œâ”€â”€ 1ï¸âƒ£ test_system_ready.py                  # System Ready
        â”œâ”€â”€ 2ï¸âƒ£ test_imports.py                       # Imports
        â”œâ”€â”€ 3ï¸âƒ£ test_phase0_complexity.py             # Phase 0
        â”œâ”€â”€ 4ï¸âƒ£ test_phase1_only.py                   # Phase 1
        â”œâ”€â”€ 5ï¸âƒ£ test_core_phases_uni_page1.py        # Core Phases
        â”œâ”€â”€ 6ï¸âƒ£ test_simple_pid_no_truth.py          # Simple PID
        â”œâ”€â”€ 7ï¸âƒ£ test_full_pipeline_features.py       # Full Pipeline
        â””â”€â”€ 8ï¸âƒ£ run_parameter_tuning.py              # Parameter Tuning
Soll ich mit einem bestimmten Bereich beginnen oder eine detaillierte Analyse einer Datei durchfÃ¼hren?